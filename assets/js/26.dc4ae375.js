(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{383:function(e,t,a){"use strict";a.r(t);var o=a(42),s=Object(o.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h2",{attrs:{id:"serial-commands"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#serial-commands"}},[e._v("#")]),e._v(" Serial Commands")]),e._v(" "),a("p",[e._v("So if you want to communicate directly with the serial device - instead of via the RPC daemon you can.")]),e._v(" "),a("h2",{attrs:{id:"connection-baud-rate-nr-vid-settings"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#connection-baud-rate-nr-vid-settings"}},[e._v("#")]),e._v(" Connection - Baud rate, nr/vid settings")]),e._v(" "),a("ul",[a("li",[e._v("Baud rate should be 115200")]),e._v(" "),a("li",[e._v("Hardware flow control CTS/RTS on")]),e._v(" "),a("li",[e._v("nrfVID = '239A'")]),e._v(" "),a("li",[e._v("nrfPID = '8029'")])]),e._v(" "),a("p",[e._v("Then you send and receive commands over Serial. The following is a list of the commands and what you should expect to receive back")]),e._v(" "),a("h2",{attrs:{id:"mouse-and-keyboard-commands"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mouse-and-keyboard-commands"}},[e._v("#")]),e._v(" Mouse and Keyboard commands")]),e._v(" "),a("h3",{attrs:{id:"at-blekeyboardcode-keyboardcode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#at-blekeyboardcode-keyboardcode"}},[e._v("#")]),e._v(" AT+BLEKEYBOARDCODE=KeyboardCode")]),e._v(" "),a("p",[e._v("The good thing about RelayKeys is that we dont try and send actual characters - we send actual keys. This is good - as it means we dont deal with the multilingual problems and different keyboard maps. However - it does mean the the command to send and press a keyboard key can look a little daunting. Here is what it looks like.")]),e._v(" "),a("p",[a("code",[e._v("AT+BLEKEYBOARDCODE=02-00-00-00-00-00-00-00")])]),e._v(" "),a("p",[e._v("This is pretty standard stuff when it comes to a keyboard HID code. E.g. "),a("a",{attrs:{href:"https://www.usb.org/sites/default/files/documents/hut1_12v2.pdf",target:"_blank",rel:"noopener noreferrer"}},[e._v("look at this"),a("OutboundLink")],1),e._v(" to see what its all about. In short though:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v('    Byte 0: Keyboard modifier bits (SHIFT, ALT, CTRL etc)\n    Byte 1: reserved\n    Byte 2-7: Up to six keyboard usage indexes representing the keys that are \n              currently "pressed". \n              Order is not important, a key is either pressed (present in the \n              buffer) or not pressed.\n')])])]),a("p",[e._v('The letter "a" is usage code 0x04 for example. If you want an uppercase "A", then you would also need to set the Byte 0 modifier bits to select "Left Shift" (or "Right Shift").')]),e._v(" "),a("p",[e._v("Hint: "),a("a",{attrs:{href:"https://github.com/AceCentre/RelayKeys/blob/69fffd89cf5ace9ee74ed6bc4fe958bff4fb3db2/blehid.py#L222",target:"_blank",rel:"noopener noreferrer"}},[e._v("Look at this file for a way to format this nicely"),a("OutboundLink")],1)]),e._v(" "),a("h3",{attrs:{id:"at-blehidmousemove-mousemovex-mousemovey-0-0"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#at-blehidmousemove-mousemovex-mousemovey-0-0"}},[e._v("#")]),e._v(" AT+BLEHIDMOUSEMOVE=MouseMoveX,MouseMoveY,0,0")]),e._v(" "),a("p",[a("code",[e._v("AT+BLEHIDMOUSEMOVE=X,Y,WY,WX")])]),e._v(" "),a("ul",[a("li",[e._v("X = Right Pixels")]),e._v(" "),a("li",[e._v("Y = Down pixels")]),e._v(" "),a("li",[e._v("WY = Scroll Down")]),e._v(" "),a("li",[e._v("WX = Scroll Right")])]),e._v(" "),a("p",[e._v("MouseMoveX = Pixels RIGHT and MouseMoveY = Pixels DOWN. So to go RIGHT/UP = use negative numbers.")]),e._v(" "),a("p",[e._v("e.g. This moves it Right by 10 and Down by 10")]),e._v(" "),a("p",[a("code",[e._v("AT+BLEHIDMOUSEMOVE=10,10,0,0")])]),e._v(" "),a("h3",{attrs:{id:"at-blehidmousebutton-mousebutton"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#at-blehidmousebutton-mousebutton"}},[e._v("#")]),e._v(" AT+BLEHIDMOUSEBUTTON=MouseButton")]),e._v(" "),a("p",[a("code",[e._v("AT+BLEHIDMOUSEBUTTON=Button[,Action]")])]),e._v(" "),a("p",[e._v("Button is one of")]),e._v(" "),a("ul",[a("li",[e._v("l = Left")]),e._v(" "),a("li",[e._v("r= Right")]),e._v(" "),a("li",[e._v("m=Middle")]),e._v(" "),a("li",[e._v("b=Mouse backward")]),e._v(" "),a("li",[e._v("f=Mouse forward")])]),e._v(" "),a("p",[e._v("NB: Mouse backward and forward are not available functions on all Operating Systems")]),e._v(" "),a("p",[e._v("Action is")]),e._v(" "),a("ul",[a("li",[e._v("Click")]),e._v(" "),a("li",[e._v("Doubleclick")]),e._v(" "),a("li",[e._v("O (which acts as press/release toggle)")])]),e._v(" "),a("p",[e._v("e.g.")]),e._v(" "),a("p",[a("em",[e._v("Single click:")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("AT+BLEHIDMOUSEBUTTON=l,click\n")])])]),a("p",[a("em",[e._v("Double click:")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("AT+BLEHIDMOUSEBUTTON=l,doubleclick\n")])])]),a("h2",{attrs:{id:"connection-commands"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#connection-commands"}},[e._v("#")]),e._v(" Connection commands")]),e._v(" "),a("h3",{attrs:{id:"at-bleaddnewdevice"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#at-bleaddnewdevice"}},[e._v("#")]),e._v(" AT+BLEADDNEWDEVICE")]),e._v(" "),a("p",[e._v("Adds a new device to the cached list of devices.  After giving this AT command the user should connect with the board via BLE. If connection is successful then the device's name will be added into the list and the board will connect with the device.")]),e._v(" "),a("p",[e._v("Note: A user can only add a new device if the cached list is not full. If the list is full then the board will return with an "),a("code",[e._v("Error")]),e._v(". If no new device connects with the board till the timeout (set to 30 seconds), a "),a("code",[e._v("Timeout Error")]),e._v(" will be returned.")]),e._v(" "),a("h3",{attrs:{id:"at-bleremovedevice-device-name"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#at-bleremovedevice-device-name"}},[e._v("#")]),e._v(' AT+BLEREMOVEDEVICE="DEVICE_NAME"')]),e._v(" "),a("p",[e._v("This AT command will remove said device's name from the cached list. Device's name should be written between double quotes. You have to be exact with this!  If "),a("code",[e._v("device_name")]),e._v(" is not found in the list, then the board will return with an "),a("code",[e._v("Error")]),e._v(".")]),e._v(" "),a("p",[e._v("If "),a("code",[e._v("device_name")]),e._v(" is currently connected to a BLE device, then the board will disconnect from this device and then remove device's name from the list.")]),e._v(" "),a("h3",{attrs:{id:"at-blecurrentdevicename"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#at-blecurrentdevicename"}},[e._v("#")]),e._v(" AT+BLECURRENTDEVICENAME")]),e._v(" "),a("p",[e._v("This AT command will return the currently connected BLE device's name. If the board is not connected with any BLE device then it will return "),a("code",[e._v("NONE")]),e._v(".")]),e._v(" "),a("h3",{attrs:{id:"at-switchconn"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#at-switchconn"}},[e._v("#")]),e._v(" AT+SWITCHCONN")]),e._v(" "),a("p",[e._v("This AT command will switch the  BLE connection to the next device in the cached list.\nThe board will try to connect with the next listed device till the timeout, then "),a("code",[e._v("Timeout Error")]),e._v(" will be returned and the board will try to connect with the next  device listed in the cache.. and so on..")]),e._v(" "),a("h3",{attrs:{id:"at-printdevlist"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#at-printdevlist"}},[e._v("#")]),e._v(" AT+PRINTDEVLIST")]),e._v(" "),a("p",[e._v("This AT command will return a list of device names.")]),e._v(" "),a("h3",{attrs:{id:"at-blemaxdevlistsize-number"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#at-blemaxdevlistsize-number"}},[e._v("#")]),e._v(" AT+BLEMAXDEVLISTSIZE=NUMBER")]),e._v(" "),a("p",[e._v("This AT command will change the maximum number of BLE devices possible in the cached list.\nThe number should be greater than 0 and less then 15")])])}),[],!1,null,null,null);t.default=s.exports}}]);